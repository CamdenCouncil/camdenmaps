
<!-- ROOT.ADDRESS-SEARCH BEGINS -->

<div class="container-fluid">
    <div class="services-and-categories col-xs-12">

        <!-- Search Box for locations & GPS -->
        <div class="col-xs-12 row search-box" id="search-service-and-loc" ng-swipe-right="toggleView()" ng-swipe-left="toggleView()">
            <div class="servicestypeahead">
                <div class="col-xs-12 errormessage">
                </div>
                <typeaheadsearch/>
            </div>
            <div class="col-md-12 enter-loc">
                <h3>Please enter your location</h3>
            </div>
            <div class="visible-xs-block">
                <a class="change-address" ng-click="toggleView()" ng-show="showAccordion">
                    <p>{{ mapOrList }}</p>
                </a>
            </div>
        </div>

        <div ng-show="maplisttoggle" ng-click="toggleView()" class="list-toggle-button visible-xs-block col-xs-1">
            <span class="glyphicon glyphicon-list" aria-hidden="true"></span>
        </div>

        <div class="col-xs-12 item-container" collapse-width="maplisttoggle" ng-swipe-left="toggleView()">

        <!-- Title of service and category that are listed in container -->
            <div class="title-list-items row" id="category-title-of-services">
                <div class="col-xs-3 col-md-3">
                    <img ng-src="{{ category.img }}"  alt="">
                </div>
                <div class="accordiontext col-xs-8 col-md-8">
                    <h4 id="title-of-accordion">{{ category.title }}</h4>
                </div>
                <div class="col-xs-1 col-md-1 cancel" ng-show="showAccordion">
                    <a ng-click="returnToCategories()">X</a>
                </div>
            </div>    

            <div class="title-list-items row" id="service-title-of-results" ng-show="showAccordion">
                <div class="col-xs-3 col-md-3">
                    <img ng-src="{{ icon }}"  alt="">
                </div>
                <div class="accordiontext col-xs-8 col-md-8">
                    <h4 id="title-of-accordion">{{ service }}</h4>
                </div>
                <div class="col-xs-1 col-md-1 cancel">
                    <a ng-click="returnToServices()">X</a>
                </div>
            </div>    

            <div class="list-items" ng-show="showAccordion">
                <div class="col-xs-12 container-list" id="list-results">
                    <a ng-click="activateListItem(result.display.Name)" ng-repeat="result in results">
                        <div class="list-item col-xs-12" id="{{ result.display.Name }}">
                            <div class="col-md-12">
                                <h3 class="service-title">{{ result.display.Name }}</h3>
                                <p>{{ result.StreetNum + ' ' + result.Street }}</p>
                                <p>{{ result.PostCode }}</p>
                                <div class="display-result">
    
                                    <div class="single-view-info">
                                        <hr id="hr-single-view">

                                        <p ng-show="result.display.Location"> Location of streetworks {{ result.display.Location }} </p>

                                        <p ng-show="result.display.Description"> <b> Description: </b> <br> {{ result.display.Description }} </p>
                                        
                                        <br>

                                        <p ng-show="result.display.Telephone" ng-href= "tel: {{ result.display.Telephone }}" id="tel">
                                            <b> Tel.: </b> {{ result.display.Telephone }}
                                        </p>

                                        <p ng-show="result.display.URL" ng-href="{{ result.display.URL }}" target="_blank" id="url">{{ result.display.URL }}
                                        </p>

                                        <p ng-show="result.display.Organisation"> <b> Responsible company: </b> {{ result.display.Organisation }} </p>  
                                        <p ng-show="result.externalref"> <b> External reference: </b> {{ result.externalref }} </p>  
                                        <h5 ng-show="result.display.OpeningHours">Opening Hours</h5>
                                        <p>{{ result.display.OpeningHours }}</p>

                                    </div> 
                                 </div>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
  
        </div>
    </div>
</div>

<!-- ROOT.ADDRESS-SEARCH ENDS-->
